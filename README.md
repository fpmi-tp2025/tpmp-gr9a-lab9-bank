# Банковское приложение для iOS

## Описание

Данное приложение разработано для iOS с использованием языка программирования Swift и фреймворков UIKit, MapKit и CoreLocation.  
Оно позволяет пользователю управлять своими счетами, выполнять конвертацию валют, а также находить ближайшее отделение банка с помощью картографического сервиса.

## Основной функционал

### Просмотр счетов
Пользователь может видеть список своих счетов с информацией:
- Тип счёта
- Текущий баланс
- Статус активности
- Возможность овердрафта

Данные по счетам сохраняются в локальной базе данных с использованием `DatabaseManager`. При первом запуске приложение подгружает тестовые данные, которые позже сохраняются при изменениях.

---

### Конвертер валют
Модуль конвертера валют позволяет пользователю:
- Выбрать начальную валюту
- Ввести сумму для конвертации
- Получить результат с учётом актуального курса

Курсы валют загружаются из словаря в приложении. Для поддержки локальных курсов используется файл с настройками формата `plist`, откуда при запуске подгружается базовый словарь курсов.

---

### Просмотр филиалов банка на карте
Приложение отображает филиалы банка на карте с помощью `MapKit`.  
Функционал включает:
- Отображение карты с точками филиалов (`MKPointAnnotation`)
- Возможность определить ближайший филиал по геолокации пользователя
- Выбор филиала для выделения на карте
- Отображение дополнительной информации об отделении при тапе на аннотацию

---

### Геолокация
Для работы с местоположением клиента используется `CoreLocation`.  
Пользователю при запуске предлагается разрешить доступ к геопозиции через `Info.plist`, где указаны ключи:
- `NSLocationWhenInUseUsageDescription`
- `NSLocationAlwaysAndWhenInUseUsageDescription`

В коде это реализовано с помощью `CLLocationManager`, который получает актуальные координаты клиента и обновляет их при перемещении. Ближайший филиал вычисляется на основе дистанции между местоположением клиента и координатами филиалов.

---

## Архитектура и структура директорий

Проект построен с учётом разделения ответственности по слоям:
```App/
├─ Models/
│  ├─ Account.swift
│  ├─ Branch.swift
│  ├─ UserData.swift
├─ UI/
│  ├─ MainMenuViewController.swift
│  ├─ AccountsViewController.swift
|  ├─ AddAccountsViewController.swift
│  ├─ CurrencyConverterViewController.swift
│  ├─ MapViewController.swift
├─ Managers/
│  ├─ CurrencyConverter.swift
│  ├─ LocationManager.swift
├─ Data/
│  ├─ DatabaseManager.swift
├─ Resources/
│  ├─ Assets.xcassets
│  ├─ Localizable.strings
│  ├─ DefaultRates.plist
```
**Основные компоненты:**
- `Models` — описание бизнес-сущностей (счет, филиал, пользователь).
- `UI` — контроллеры представлений для взаимодействия с пользователем.
- `Managers` — логика приложения для управления конвертацией, местоположением и другими вычислениями.
- `Data` — работа с локальной базой данных, загрузка начальных данных из `plist`.
- `Resources` — ассеты, строки локализаций, конфигурационные файлы.

---

## Работа с базами данных и настройками
Хранилище реализовано с помощью простого локального файла базы данных (например, `UserDefaults` или `CoreData` при расширении). Конфигурация валютных курсов изначально загружается из файла `DefaultRates.plist`.  
Данные по счетам сохраняются при каждом изменении для обеспечения их консистентности при повторных запусках.

---

## Используемые фреймворки
- `UIKit` — создание пользовательского интерфейса с авторазметкой
- `MapKit` — отображение карты, аннотаций, расчет расстояний
- `CoreLocation` — запрос местоположения пользователя, расчет ближайшего филиала
- `Foundation` — базовая логика, загрузка и парсинг plist
- `XCTest` — UI-тесты для проверки навигации и взаимодействий с элементами приложения

---
